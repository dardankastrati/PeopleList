<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Liste personnes</title>
    </h:head>
    <h:body>
        <h2><h:outputText value="#{msg['listPerson']}" /></h2>
        
        <h:dataTable value="#{peopleListBean.peopleList}" var="people">
            <h:column>    				
                <f:facet name="id"><h:outputText value="" /></f:facet>    				
                    #{people.id}
            </h:column>
            <h:column>
                <f:facet name="gender">gender</f:facet>
                    #{people.gender}
            </h:column>
            <h:column>
                <f:facet name="firstName">firstName</f:facet>
                    #{people.firstName}
            </h:column>
            <h:column>
                <f:facet name="lastName">lastName</f:facet>
                    #{people.lastName}
            </h:column>
            <h:column>
                <f:facet name="married">married</f:facet>
                    #{people.married}
            </h:column>
            <h:column>
                <f:facet name="birthDate">birthDate</f:facet>
                    #{people.birthDate}
            </h:column>
        </h:dataTable>

        <h2>Formulaire d'ajout d'une nouvelle personne</h2>
        <h:form>
            <fieldset>
                <legend>Inscription</legend>

                Titre 
                <h:selectOneMenu value="#{person.gender}">
                    <f:selectItem itemValue="male" itemLabel="male" />
                    <f:selectItem itemValue="female" itemLabel="female" />
                </h:selectOneMenu>
                <br />
                
                Prénom 
                <h:inputText value="#{person.firstName}" />
                <br />

                Nom 
                <h:inputText value="#{person.lastName}" />
                <br />

                Marié ? 
                <h:selectOneRadio value="#{person.married}">
                    <f:selectItem itemValue="#{true}" itemLabel="Oui" />
                    <f:selectItem itemValue="#{false}" itemLabel="Non" />
                </h:selectOneRadio>
                <br />

                Date de naissance
                <h:inputText value="#{person.birthDate}">  
                    <f:convertDateTime pattern="dd.mm.yyyy"/>  
                </h:inputText>

                <h:commandButton value="Inscription" action="#{services.savePerson(person.gender, person.firstName, person.lastName, person.married, person.birthDate)}" />
                <!--person.gender, person.firstName, person.lastName, person.married, person.birthDate-->
                <br />
            </fieldset>
        </h:form>
    </h:body>
</html>

